
# ---------------------------------------------------------------------------------
#
# Example code - LDSC for rg 
# Paths are masked
# Processing steps are removed 
#
# ---------------------------------------------------------------------------------

# module load Anaconda2

# generate LDSC sumstats - for metabolites & traits

cd /homepath/ldsc
source activate ldsc
sbatch /pathtoworkfolder/generate.metab.sumstats.1.sh
sbatch /pathtoworkfolder/generate.metab.sumstats.2.sh
sbatch /pathtoworkfolder/generate.metab.sumstats.3.sh


# test rg between T2D/traits and metabolites

export path=/pathto_metab_summstats/munge_sumstats/

for traits in T2D.NatGen2022.TA HBA1c.2021 Proinsulin_MAGIC.2022 FastInsulin_MAGIC.2021 IFC.noBMI_MAGIC.2023 ISI.noBMI_MAGIC.2023 IFC.adjBMI_MAGIC.2023 ISI.adjBMI_MAGIC.2023 bmi.all.GIANT2018 whr.all.GIANT2018 whr.adjbmi.all.GIANT2018 Sub.fat.volume_UKB Visceral.fat.volume_UKB Liver.PDFF_UKB Pancreas.PDFF_UKB HOMAb.noBMI_Manning.2012 HOMAb.adjBMI_Manning.2012 HOMAir.noBMI_Manning.2012 HOMAir.adjBMI_Manning.2012 logTG_2021 TC_2021 LDLC_2021 HDLC_2021 ALT_UKB.2021 AST_UKB.2021 GGT_UKB.2021; do

python ldsc.py \
--rg /pathto_traits_summstats/"$traits"_use.sumstats.gz,"$path"HMDB0000017.sumstats.gz,"$path"HMDB0000043.sumstats.gz,"$path"HMDB0000062.sumstats.gz,"$path"HMDB0000064.sumstats.gz,"$path"HMDB0000092.sumstats.gz,"$path"HMDB0000094.sumstats.gz,"$path"HMDB0000122.sumstats.gz,"$path"HMDB0000123.sumstats.gz,"$path"HMDB0000158.sumstats.gz,"$path"HMDB0000159.sumstats.gz,"$path"HMDB0000161.sumstats.gz,"$path"HMDB0000162.sumstats.gz,"$path"HMDB0000168.sumstats.gz,"$path"HMDB0000172.sumstats.gz,"$path"HMDB0000177.sumstats.gz,"$path"HMDB0000182.sumstats.gz,"$path"HMDB0000187.sumstats.gz,"$path"HMDB0000190.sumstats.gz,"$path"HMDB0000210.sumstats.gz,"$path"HMDB0000289.sumstats.gz,"$path"HMDB0000292.sumstats.gz,"$path"HMDB0000296.sumstats.gz,"$path"HMDB0000562.sumstats.gz,"$path"HMDB0000687.sumstats.gz,"$path"HMDB0000714.sumstats.gz,"$path"HMDB0000883.sumstats.gz,"$path"HMDB0000904.sumstats.gz,"$path"HMDB0000929.sumstats.gz,"$path"HMDB0002302.sumstats.gz,"$path"HMDB0002815.sumstats.gz,"$path"HMDB0010383.sumstats.gz,"$path"HMDB0010395.sumstats.gz,"$path"HMDB0011130.sumstats.gz,"$path"HMDB0011507.sumstats.gz,"$path"HMDB0000008.sumstats.gz,"$path"HMDB0000097.sumstats.gz,"$path"HMDB0000148.sumstats.gz,"$path"HMDB0000157.sumstats.gz,"$path"HMDB0000207.sumstats.gz,"$path"HMDB0000254.sumstats.gz,"$path"HMDB0000259.sumstats.gz,"$path"HMDB0000637.sumstats.gz,"$path"HMDB0000684.sumstats.gz,"$path"HMDB0000688.sumstats.gz,"$path"HMDB0000705.sumstats.gz,"$path"HMDB0000708.sumstats.gz,"$path"HMDB0000725.sumstats.gz,"$path"HMDB0000806.sumstats.gz,"$path"HMDB0000824.sumstats.gz,"$path"HMDB0001999.sumstats.gz,"$path"HMDB0002183.sumstats.gz,"$path"HMDB0002925.sumstats.gz,"$path"HMDB0003229.sumstats.gz,"$path"HMDB0013127.sumstats.gz,"$path"HMDB0013130.sumstats.gz,"$path"HMDB0010404.sumstats.gz,"$path"HMDB0000036.sumstats.gz,"$path"HMDB0000086.sumstats.gz,"$path"HMDB0000156.sumstats.gz,"$path"HMDB0000167.sumstats.gz,"$path"HMDB0000220.sumstats.gz,"$path"HMDB0000222.sumstats.gz,"$path"HMDB0000247.sumstats.gz,"$path"HMDB0000462.sumstats.gz,"$path"HMDB0000641.sumstats.gz,"$path"HMDB0000673.sumstats.gz,"$path"HMDB0000682.sumstats.gz,"$path"HMDB0000696.sumstats.gz,"$path"HMDB0000715.sumstats.gz,"$path"HMDB0000827.sumstats.gz,"$path"HMDB0000896.sumstats.gz,"$path"HMDB0001043.sumstats.gz,"$path"HMDB0001976.sumstats.gz,"$path"HMDB0002000.sumstats.gz,"$path"HMDB0002226.sumstats.gz,"$path"HMDB0003073.sumstats.gz,"$path"HMDB0006831.sumstats.gz,"$path"HMDB0007103.sumstats.gz,"$path"HMDB0007972.sumstats.gz,"$path"HMDB0008038.sumstats.gz,"$path"HMDB0008138.sumstats.gz,"$path"HMDB0010382.sumstats.gz,"$path"HMDB0010386.sumstats.gz,"$path"HMDB0011503.sumstats.gz,"$path"HMDB0011506.sumstats.gz,"$path"HMDB0012097.sumstats.gz,"$path"HMDB0012104.sumstats.gz,"$path"HMDB0000026.sumstats.gz,"$path"HMDB0000045.sumstats.gz,"$path"HMDB0000050.sumstats.gz,"$path"HMDB0000072.sumstats.gz,"$path"HMDB0000127.sumstats.gz,"$path"HMDB0000134.sumstats.gz,"$path"HMDB0000138.sumstats.gz,"$path"HMDB0000195.sumstats.gz,"$path"HMDB0000201.sumstats.gz,"$path"HMDB0000248.sumstats.gz,"$path"HMDB0000251.sumstats.gz,"$path"HMDB0000267.sumstats.gz,"$path"HMDB0000300.sumstats.gz,"$path"HMDB0000510.sumstats.gz,"$path"HMDB0000517.sumstats.gz,"$path"HMDB0000610.sumstats.gz,"$path"HMDB0000626.sumstats.gz,"$path"HMDB0000631.sumstats.gz,"$path"HMDB0000651.sumstats.gz,"$path"HMDB0000658.sumstats.gz,"$path"HMDB0000699.sumstats.gz,"$path"HMDB0000791.sumstats.gz,"$path"HMDB0000840.sumstats.gz,"$path"HMDB0000881.sumstats.gz,"$path"HMDB0000885.sumstats.gz,"$path"HMDB0000898.sumstats.gz,"$path"HMDB0000918.sumstats.gz,"$path"HMDB0000925.sumstats.gz,"$path"HMDB0000951.sumstats.gz,"$path"HMDB0001046.sumstats.gz,"$path"HMDB0001348.sumstats.gz,"$path"HMDB0001406.sumstats.gz,"$path"HMDB0002005.sumstats.gz,"$path"HMDB0002013.sumstats.gz,"$path"HMDB0002250.sumstats.gz,"$path"HMDB0002329.sumstats.gz,"$path"HMDB0002366.sumstats.gz,"$path"HMDB0003334.sumstats.gz,"$path"HMDB0004949.sumstats.gz,"$path"HMDB0005356.sumstats.gz,"$path"HMDB0005359.sumstats.gz,"$path"HMDB0005363.sumstats.gz,"$path"HMDB0005367.sumstats.gz,"$path"HMDB0005369.sumstats.gz,"$path"HMDB0005370.sumstats.gz,"$path"HMDB0005376.sumstats.gz,"$path"HMDB0005377.sumstats.gz,"$path"HMDB0005391.sumstats.gz,"$path"HMDB0005392.sumstats.gz,"$path"HMDB0005395.sumstats.gz,"$path"HMDB0005403.sumstats.gz,"$path"HMDB0005404.sumstats.gz,"$path"HMDB0005405.sumstats.gz,"$path"HMDB0005406.sumstats.gz,"$path"HMDB0005410.sumstats.gz,"$path"HMDB0005413.sumstats.gz,"$path"HMDB0005432.sumstats.gz,"$path"HMDB0005433.sumstats.gz,"$path"HMDB0005435.sumstats.gz,"$path"HMDB0005436.sumstats.gz,"$path"HMDB0005447.sumstats.gz,"$path"HMDB0005448.sumstats.gz,"$path"HMDB0005456.sumstats.gz,"$path"HMDB0005458.sumstats.gz,"$path"HMDB0005462.sumstats.gz,"$path"HMDB0005463.sumstats.gz,"$path"HMDB0005471.sumstats.gz,"$path"HMDB0005476.sumstats.gz,"$path"HMDB0005478.sumstats.gz,"$path"HMDB0006347.sumstats.gz,"$path"HMDB0006725.sumstats.gz,"$path"HMDB0006726.sumstats.gz,"$path"HMDB0006731.sumstats.gz,"$path"HMDB0006733.sumstats.gz,"$path"HMDB0006736.sumstats.gz,"$path"HMDB0007102.sumstats.gz,"$path"HMDB0007132.sumstats.gz,"$path"HMDB0007216.sumstats.gz,"$path"HMDB0007218.sumstats.gz,"$path"HMDB0007219.sumstats.gz,"$path"HMDB0007248.sumstats.gz,"$path"HMDB0007871.sumstats.gz,"$path"HMDB0007873.sumstats.gz,"$path"HMDB0007874.sumstats.gz,"$path"HMDB0007883.sumstats.gz,"$path"HMDB0007973.sumstats.gz,"$path"HMDB0007991.sumstats.gz,"$path"HMDB0008039.sumstats.gz,"$path"HMDB0008047.sumstats.gz,"$path"HMDB0008048.sumstats.gz,"$path"HMDB0008057.sumstats.gz,"$path"HMDB0008993.sumstats.gz,"$path"HMDB0008994.sumstats.gz,"$path"HMDB0009003.sumstats.gz,"$path"HMDB0010368.sumstats.gz,"$path"HMDB0010370.sumstats.gz,"$path"HMDB0010379.sumstats.gz,"$path"HMDB0010397.sumstats.gz,"$path"HMDB0010411.sumstats.gz,"$path"HMDB0010412.sumstats.gz,"$path"HMDB0010419.sumstats.gz,"$path"HMDB0010471.sumstats.gz,"$path"HMDB0010513.sumstats.gz,"$path"HMDB0010518.sumstats.gz,"$path"HMDB0010531.sumstats.gz,"$path"HMDB0011210.sumstats.gz,"$path"HMDB0011220.sumstats.gz,"$path"HMDB0011343.sumstats.gz,"$path"HMDB0011517.sumstats.gz,"$path"HMDB0011526.sumstats.gz,"$path"HMDB0011697.sumstats.gz,"$path"HMDB0012101.sumstats.gz,"$path"HMDB0012103.sumstats.gz,"$path"HMDB0012107.sumstats.gz,"$path"HMDB0029416.sumstats.gz,"$path"HMDB0000020.sumstats.gz,"$path"HMDB0000063.sumstats.gz,"$path"HMDB0000067.sumstats.gz,"$path"HMDB0000099.sumstats.gz,"$path"HMDB0000126.sumstats.gz,"$path"HMDB0000152.sumstats.gz,"$path"HMDB0000191.sumstats.gz,"$path"HMDB0000193.sumstats.gz,"$path"HMDB0000206.sumstats.gz,"$path"HMDB0000208.sumstats.gz,"$path"HMDB0000214.sumstats.gz,"$path"HMDB0000243.sumstats.gz,"$path"HMDB0000258.sumstats.gz,"$path"HMDB0000271.sumstats.gz,"$path"HMDB0000299.sumstats.gz,"$path"HMDB0000448.sumstats.gz,"$path"HMDB0000529.sumstats.gz,"$path"HMDB0000619.sumstats.gz,"$path"HMDB0000623.sumstats.gz,"$path"HMDB0000630.sumstats.gz,"$path"HMDB0000638.sumstats.gz,"$path"HMDB0000672.sumstats.gz,"$path"HMDB0000679.sumstats.gz,"$path"HMDB0000698.sumstats.gz,"$path"HMDB0000716.sumstats.gz,"$path"HMDB0000767.sumstats.gz,"$path"HMDB0000848.sumstats.gz,"$path"HMDB0000884.sumstats.gz,"$path"HMDB0000991.sumstats.gz,"$path"HMDB0001847.sumstats.gz,"$path"HMDB0002014.sumstats.gz,"$path"HMDB0002231.sumstats.gz,"$path"HMDB0004193.sumstats.gz,"$path"HMDB0004827.sumstats.gz,"$path"HMDB0004952.sumstats.gz,"$path"HMDB0004953.sumstats.gz,"$path"HMDB0004956.sumstats.gz,"$path"HMDB0005065.sumstats.gz,"$path"HMDB0005066.sumstats.gz,"$path"HMDB0005357.sumstats.gz,"$path"HMDB0005365.sumstats.gz,"$path"HMDB0005384.sumstats.gz,"$path"HMDB0006344.sumstats.gz,"$path"HMDB0006469.sumstats.gz,"$path"HMDB0006729.sumstats.gz,"$path"HMDB0007098.sumstats.gz,"$path"HMDB0007099.sumstats.gz,"$path"HMDB0007100.sumstats.gz,"$path"HMDB0007199.sumstats.gz,"$path"HMDB0007869.sumstats.gz,"$path"HMDB0007870.sumstats.gz,"$path"HMDB0007970.sumstats.gz,"$path"HMDB0007983.sumstats.gz,"$path"HMDB0008006.sumstats.gz,"$path"HMDB0008105.sumstats.gz,"$path"HMDB0008270.sumstats.gz,"$path"HMDB0008928.sumstats.gz,"$path"HMDB0008937.sumstats.gz,"$path"HMDB0008942.sumstats.gz,"$path"HMDB0008952.sumstats.gz,"$path"HMDB0008991.sumstats.gz,"$path"HMDB0009012.sumstats.gz,"$path"HMDB0009060.sumstats.gz,"$path"HMDB0009069.sumstats.gz,"$path"HMDB0009082.sumstats.gz,"$path"HMDB0009102.sumstats.gz,"$path"HMDB0010169.sumstats.gz,"$path"HMDB0010375.sumstats.gz,"$path"HMDB0010393.sumstats.gz,"$path"HMDB0010497.sumstats.gz,"$path"HMDB0010498.sumstats.gz,"$path"HMDB0010517.sumstats.gz,"$path"HMDB0011134.sumstats.gz,"$path"HMDB0011208.sumstats.gz,"$path"HMDB0011211.sumstats.gz,"$path"HMDB0011221.sumstats.gz,"$path"HMDB0011229.sumstats.gz,"$path"HMDB0011243.sumstats.gz,"$path"HMDB0011244.sumstats.gz,"$path"HMDB0011252.sumstats.gz,"$path"HMDB0011310.sumstats.gz,"$path"HMDB0011386.sumstats.gz,"$path"HMDB0011387.sumstats.gz,"$path"HMDB0011394.sumstats.gz,"$path"HMDB0011410.sumstats.gz,"$path"HMDB0011420.sumstats.gz,"$path"HMDB0011441.sumstats.gz,"$path"HMDB0011442.sumstats.gz,"$path"HMDB0012102.sumstats.gz,"$path"HMDB0013238.sumstats.gz,"$path"HMDB0013288.sumstats.gz,"$path"HMDB0013325.sumstats.gz,"$path"HMDB0013326.sumstats.gz,"$path"HMDB0013331.sumstats.gz,"$path"HMDB0029377.sumstats.gz,"$path"HMDB0042063.sumstats.gz,"$path"HMDB0042301.sumstats.gz,"$path"HMDB0042631.sumstats.gz,"$path"HMDB0060038.sumstats.gz,"$path"HMDB0000011.sumstats.gz,"$path"HMDB0000058.sumstats.gz,"$path"HMDB0000186.sumstats.gz,"$path"HMDB0000232.sumstats.gz,"$path"HMDB0000277.sumstats.gz,"$path"HMDB0000407.sumstats.gz,"$path"HMDB0000613.sumstats.gz,"$path"HMDB0000671.sumstats.gz,"$path"HMDB0000764.sumstats.gz,"$path"HMDB0000872.sumstats.gz,"$path"HMDB0000874.sumstats.gz,"$path"HMDB0001511.sumstats.gz,"$path"HMDB0001539.sumstats.gz,"$path"HMDB0001889.sumstats.gz,"$path"HMDB0001895.sumstats.gz,"$path"HMDB0002259.sumstats.gz,"$path"HMDB0004667.sumstats.gz,"$path"HMDB0006460.sumstats.gz,"$path"HMDB0007011.sumstats.gz,"$path"HMDB0008511.sumstats.gz,"$path"HMDB0010384.sumstats.gz,"$path"HMDB0011212.sumstats.gz,"$path"HMDB0011319.sumstats.gz,"$path"HMDB0012881.sumstats.gz,"$path"HMDB0013622.sumstats.gz,"$path"HMDB0013678.sumstats.gz,"$path"HMDB0029216.sumstats.gz,"$path"PubChem557.sumstats.gz,"$path"PubChem75502.sumstats.gz,"$path"HMDB0000001.sumstats.gz,"$path"HMDB0000054.sumstats.gz,"$path"HMDB0000112.sumstats.gz,"$path"HMDB0000128.sumstats.gz,"$path"HMDB0000479.sumstats.gz,"$path"HMDB0000511.sumstats.gz,"$path"HMDB0000512.sumstats.gz,"$path"HMDB0000670.sumstats.gz,"$path"HMDB0000766.sumstats.gz,"$path"HMDB0000792.sumstats.gz,"$path"HMDB0000812.sumstats.gz,"$path"HMDB0000826.sumstats.gz,"$path"HMDB0000875.sumstats.gz,"$path"HMDB0000888.sumstats.gz,"$path"HMDB0000893.sumstats.gz,"$path"HMDB0000897.sumstats.gz,"$path"HMDB0001008.sumstats.gz,"$path"HMDB0001276.sumstats.gz,"$path"HMDB0001325.sumstats.gz,"$path"HMDB0001476.sumstats.gz,"$path"HMDB0001954.sumstats.gz,"$path"HMDB0001991.sumstats.gz,"$path"HMDB0002064.sumstats.gz,"$path"HMDB0002068.sumstats.gz,"$path"HMDB0002100.sumstats.gz,"$path"HMDB0002271.sumstats.gz,"$path"HMDB0002759.sumstats.gz,"$path"HMDB0002802.sumstats.gz,"$path"HMDB0002820.sumstats.gz,"$path"HMDB0003681.sumstats.gz,"$path"HMDB0004400.sumstats.gz,"$path"HMDB0004620.sumstats.gz,"$path"HMDB0004824.sumstats.gz,"$path"HMDB0005360.sumstats.gz,"$path"HMDB0005380.sumstats.gz,"$path"HMDB0005385.sumstats.gz,"$path"HMDB0005398.sumstats.gz,"$path"HMDB0005923.sumstats.gz,"$path"HMDB0010407.sumstats.gz,"$path"HMDB0011103.sumstats.gz,"$path"HMDB0011621.sumstats.gz,"$path"HMDB0011756.sumstats.gz,"$path"HMDB0013713.sumstats.gz,"$path"HMDB0032055.sumstats.gz,"$path"HMDB0061384.sumstats.gz,"$path"HMDB0000056.sumstats.gz,"$path"HMDB0000139.sumstats.gz,"$path"HMDB0000192.sumstats.gz,"$path"HMDB0000197.sumstats.gz,"$path"HMDB0000212.sumstats.gz,"$path"HMDB0000226.sumstats.gz,"$path"HMDB0000301.sumstats.gz,"$path"HMDB0000305.sumstats.gz,"$path"HMDB0000317.sumstats.gz,"$path"HMDB0000491.sumstats.gz,"$path"HMDB0000518.sumstats.gz,"$path"HMDB0000532.sumstats.gz,"$path"HMDB0000650.sumstats.gz,"$path"HMDB0000774.sumstats.gz,"$path"HMDB0000784.sumstats.gz,"$path"HMDB0000807.sumstats.gz,"$path"HMDB0001015.sumstats.gz,"$path"HMDB0001138.sumstats.gz,"$path"HMDB0001390.sumstats.gz,"$path"HMDB0001563.sumstats.gz,"$path"HMDB0001565.sumstats.gz,"$path"HMDB0001857.sumstats.gz,"$path"HMDB0001859.sumstats.gz,"$path"HMDB0001886.sumstats.gz,"$path"HMDB0001906.sumstats.gz,"$path"HMDB0002172.sumstats.gz,"$path"HMDB0002869.sumstats.gz,"$path"HMDB0002931.sumstats.gz,"$path"HMDB0003072.sumstats.gz,"$path"HMDB0003282.sumstats.gz,"$path"HMDB0003331.sumstats.gz,"$path"HMDB0003357.sumstats.gz,"$path"HMDB0004072.sumstats.gz,"$path"HMDB0005362.sumstats.gz,"$path"HMDB0005396.sumstats.gz,"$path"HMDB0008731.sumstats.gz,"$path"HMDB0008925.sumstats.gz,"$path"HMDB0009016.sumstats.gz,"$path"HMDB0009809.sumstats.gz,"$path"HMDB0009815.sumstats.gz,"$path"HMDB0010387.sumstats.gz,"$path"HMDB0011384.sumstats.gz,"$path"HMDB0011520.sumstats.gz,"$path"HMDB0011565.sumstats.gz,"$path"HMDB0011701.sumstats.gz,"$path"HMDB0011705.sumstats.gz,"$path"HMDB0011706.sumstats.gz,"$path"HMDB0011745.sumstats.gz,"$path"HMDB0012252.sumstats.gz,"$path"HMDB0012356.sumstats.gz,"$path"HMDB0013631.sumstats.gz,"$path"HMDB0031057.sumstats.gz,"$path"HMDB0031106.sumstats.gz,"$path"HMDB0042062.sumstats.gz,"$path"HMDB0042076.sumstats.gz,"$path"HMDB0042093.sumstats.gz,"$path"HMDB0042099.sumstats.gz,"$path"HMDB0042100.sumstats.gz,"$path"HMDB0042103.sumstats.gz,"$path"HMDB0042104.sumstats.gz,"$path"HMDB0042196.sumstats.gz,"$path"HMDB0042226.sumstats.gz,"$path"HMDB0042466.sumstats.gz,"$path"HMDB0043058.sumstats.gz,"$path"HMDB0043170.sumstats.gz,"$path"PubChem126041.sumstats.gz,"$path"HMDB0008923.sumstats.gz,"$path"HMDB0010167.sumstats.gz,"$path"HMDB0010401.sumstats.gz,"$path"HMDB0011214.sumstats.gz,"$path"HMDB0011478.sumstats.gz,"$path"HMDB0011512.sumstats.gz,"$path"HMDB0013287.sumstats.gz,"$path"HMDB0013733.sumstats.gz,"$path"HMDB0000133.sumstats.gz,"$path"HMDB0000355.sumstats.gz,"$path"HMDB0000508.sumstats.gz,"$path"HMDB0002088.sumstats.gz,"$path"HMDB0002264.sumstats.gz,"$path"HMDB0009789.sumstats.gz,"$path"HMDB0010318.sumstats.gz,"$path"HMDB0010405.sumstats.gz,"$path"HMDB0010738.sumstats.gz \
--ref-ld-chr eur_w_ld_chr/ \
--w-ld-chr eur_w_ld_chr/ \
--out /pathto_analysisresults/rg_"$traits"_vs_metabolites

done


